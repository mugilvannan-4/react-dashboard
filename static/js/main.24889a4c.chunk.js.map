{"version":3,"sources":["components/Dashboard/Dashboard.js","components/Login/Register.js","components/Login/Login.js","components/App/useToken.js","components/App/App.js","index.js"],"names":["Dashboard","useHistory","className","onClick","localStorage","clear","window","location","href","RegisterUser","userdetails","a","console","log","fetch","method","headers","body","JSON","stringify","then","data","json","Register","props","useState","firstName","setFirstName","lastName","setLastName","username","setUsername","password","setPassword","cnfpwd","setCnfpwd","regmessage","setRegmessage","apimessage","setApimessage","e","preventDefault","message","onSubmit","handleSubmit","type","required","onChange","target","value","rel","loginUser","credentials","Login","setUserName","setMessage","signupstate","setSignupstate","token","setToken","useToken","tokenstring","getItem","userToken","parse","getToken","setItem","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.24889a4c.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Dashboard.css'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction Dashboard() {\r\n    const history = useHistory();\r\n    function logout(){\r\n        localStorage.clear();\r\n        window.location.href = '/login';\r\n\r\n\r\n    }\r\n\r\n    return(\r\n    \r\n        <div className=\"Dashboard-wrapper\">\r\n        <h2>Dashboard under construction. Comeback later to get amazed</h2>\r\n          <div>\r\n             <button className=\"logout\" onClick={()=>logout()}>logout</button>\r\n          </div>\r\n        </div>\r\n      \r\n    )\r\n}\r\n\r\nexport default Dashboard;","import React, { useState } from 'react';\r\nimport './Login.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nasync function RegisterUser(userdetails) {\r\n    console.log(userdetails);\r\n    return fetch('https://dash-auth.herokuapp.com/user/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userdetails)\r\n      \r\n      })\r\n        .then(async (data) => data.json())\r\n}\r\n\r\nfunction Register(props) {\r\n    const [firstName, setFirstName] = useState();\r\n    const [lastName, setLastName] = useState();\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [cnfpwd, setCnfpwd] = useState();\r\n    const [regmessage, setRegmessage] = useState('');\r\n    const [apimessage, setApimessage] = useState('');\r\n\r\n \r\n    \r\n    async function handleSubmit(e){\r\n        e.preventDefault();\r\n        if(password !== cnfpwd ){\r\n            setRegmessage(\"Passwords are not matching\")\r\n            setApimessage('');\r\n        }\r\n        else {\r\n            const Resp = await RegisterUser({\r\n                firstName,\r\n                lastName,\r\n                username,\r\n                password    \r\n            }); \r\n           if(Resp.message === \"User added\") {\r\n            setRegmessage('')\r\n               setApimessage(\"User Added Successfully. Click 'Back' button for login Page\");\r\n           } \r\n           else\r\n           {\r\n            setRegmessage('')\r\n               setRegmessage(\"Failed to add user. Please try again after sometime\");\r\n           }\r\n        }\r\n        }\r\n\r\n    function handleback(e) {\r\n        window.location.href = '/login'\r\n    }\r\n    return(\r\n                <div className=\"signup-wrapper\">\r\n                    <h1>User details</h1>   \r\n                           <form onSubmit={(e) => handleSubmit(e)}>\r\n                             <label>\r\n                               <p>Firstname</p>\r\n                                  <input type=\"text\" required onChange={(e) => setFirstName(e.target.value)}/>\r\n                              </label>\r\n                              <label>\r\n                               <p>Lastname</p>\r\n                                  <input type=\"text\" required onChange={(e) => setLastName(e.target.value)}/>\r\n                              </label>\r\n                              <label>\r\n                               <p>Username</p>\r\n                                  <input type=\"text\" required onChange={(e) => setUsername(e.target.value)}/>\r\n                              </label>\r\n                              <label>\r\n                                <p>Password</p>\r\n                                  <input type=\"password\" required onChange={(e) => setPassword(e.target.value)}/>\r\n                              </label>\r\n                              <a className=\"Externallink\" href=\"https://mugilvannan-4.github.io/React-passwd/\" target=\"_blank\" rel=\"noopener noreferrer\" >Need Help?</a>\r\n                              <label>\r\n                                <p>Confirm Password</p>\r\n                                  <input type=\"password\" required onChange={(e) => setCnfpwd(e.target.value)}/>\r\n                              </label>\r\n                              <p className=\"err\">{regmessage}</p>\r\n                              <p className=\"Suc\">{apimessage}</p>\r\n                              <div>\r\n                                  <button className=\"submitbutton\" type=\"submit\">Register</button>\r\n                              </div>\r\n                              <div>\r\n                                  <button className=\"backbutton\" type=\"button\" onClick={() => handleback()}>Back</button>\r\n                              </div>\r\n                           </form>\r\n                </div>       \r\n    )\r\n\r\n    } \r\n\r\n\r\n\r\n\r\n\r\nexport default Register;","import React, { useState } from 'react';\r\nimport './Login.css';\r\nimport Register from './Register';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nasync function loginUser(credentials) {\r\n\r\n    return fetch('https://dash-auth.herokuapp.com/user/authenticate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n      })\r\n        .then(async (data) => data.json())\r\n}\r\n\r\nfunction Login(props) {\r\n    const [username, setUserName] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [regfirstname, setRegfirstname] = useState();\r\n    const [reglastname, setRegLastname] = useState();\r\n    const [reguser, setReguser] = useState();\r\n    const [regpsswd, setRegpsswd] = useState();\r\n    const [regcnfpwd, setRegcnfpwd] = useState();\r\n    const [message, setMessage] = useState('');\r\n    const [regmessage, setRegmessage] = useState('');\r\n    const [signupstate, setSignupstate] = useState(false);\r\n    async function handleSubmit(e){\r\n        e.preventDefault();\r\n        const token = await loginUser({\r\n            username,\r\n            password\r\n        }); \r\n        if(token.token){\r\n        props.setToken(token);\r\n        window.location.href = '/dashboard'\r\n        } else {\r\n         setMessage(token.message);   \r\n        }\r\n\r\n    }\r\n\r\n    function handleregister(e) {\r\n        console.log(e);\r\n        e.preventDefault();\r\n        if(regpsswd !== regcnfpwd ){\r\n            setMessage(\"Passwords are not matching :(\")\r\n        }\r\n        else {\r\n            console.log(\"calling API\");\r\n        }\r\n    }\r\n\r\n    function handlesignup() {\r\n        var sgnp = signupstate;\r\n        sgnp = !sgnp;\r\n        setSignupstate(sgnp);\r\n    }\r\n    return(\r\n        <div className=\"login-wrapper\">\r\n            <h1>Bon voyage</h1>\r\n            <form className=\"login-entry\" onSubmit={(e) => handleSubmit(e)}>\r\n                <label>\r\n                    <p>Username</p>\r\n                    <input type=\"text\"  onChange={(e) => setUserName(e.target.value)}/>\r\n                </label>\r\n                <label>\r\n                    <p>Password</p>\r\n                    <input type=\"password\" onChange={(e) => setPassword(e.target.value)}/>\r\n                </label>\r\n                <h1>{message}</h1>\r\n                <div>\r\n                    <button className=\"buttons\" type=\"Submit\">Sign In</button>\r\n                </div>\r\n                <div>\r\n                    <button className=\"buttons\" type=\"button\" onClick={() => handlesignup()}>Sign Up</button>\r\n                </div>\r\n            </form>\r\n            {signupstate === true &&\r\n                <Register />\r\n                }\r\n        </div>\r\n\r\n    \r\n    )\r\n\r\n  \r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default Login;","import { useState } from 'react';\r\n\r\nfunction useToken() {\r\n\r\n    const getToken = ()=> {\r\n        const tokenstring = localStorage.getItem('token');\r\n        console.log(tokenstring);\r\n        const userToken = JSON.parse(tokenstring);\r\n        return userToken?.token\r\n        };\r\n    const [token, setToken] = useState(getToken());\r\n\r\n     const saveToken = userToken => {\r\n        localStorage.setItem('token', JSON.stringify(userToken));\r\n         setToken(userToken.token);\r\n     }   \r\n     \r\n     return {\r\n         setToken: saveToken,\r\n         token  \r\n     }\r\n}\r\n\r\nexport default useToken;","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport Dashboard from '../Dashboard/Dashboard.js';\r\nimport Login from '../Login/Login';\r\nimport useToken from './useToken';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { render } from '@testing-library/react';\r\n\r\nfunction App() {\r\n    const history = useHistory();\r\n    const { token, setToken } = useToken();\r\n\r\n    if(!token){\r\n        return(\r\n           <div className=\"login\">\r\n            <BrowserRouter>\r\n                <Switch>\r\n                    <Route path=\"/login\">\r\n                       <Login setToken={setToken} />\r\n                    </Route>\r\n                </Switch>   \r\n            </BrowserRouter>\r\n           </div>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div className=\"dashboard\">\r\n             <BrowserRouter>\r\n                <Switch>\r\n                    <Route path=\"/dashboard\">\r\n                        <Dashboard />\r\n                    </Route>\r\n                </Switch>   \r\n            </BrowserRouter>\r\n             </div>\r\n    )\r\n    }    \r\n\r\n\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}