(this["webpackJsonpreact-dashboard"]=this["webpackJsonpreact-dashboard"]||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},442:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(23),c=n.n(a),s=(n(139),n(140),n(141),n(5)),i=n(2);var o=function(){return Object(s.d)(),Object(i.jsxs)("div",{className:"Dashboard-wrapper",children:[Object(i.jsx)("h2",{children:"Dashboard under construction. Comeback later to get amazed"}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"logout",onClick:function(){return localStorage.clear(),void(window.location.href="/login")},children:"logout"})})]})},u=n(9),j=n.n(u),b=n(6),l=n(30);n(89);function d(e){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch("https://dash-auth.herokuapp.com/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){var t=Object(r.useState)(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(b.a)(s,2),u=o[0],p=o[1],O=Object(r.useState)(),h=Object(b.a)(O,2),f=h[0],x=h[1],m=Object(r.useState)(),g=Object(b.a)(m,2),v=g[0],S=g[1],k=Object(r.useState)(),w=Object(b.a)(k,2),y=w[0],N=w[1],C=Object(r.useState)(""),P=Object(b.a)(C,2),T=P[0],J=P[1],U=Object(r.useState)(""),q=Object(b.a)(U,2),B=q[0],D=q[1];function I(){return(I=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v===y){e.next=6;break}J("Passwords are not matching"),D(""),e.next=10;break;case 6:return e.next=8,d({firstName:a,lastName:u,username:f,password:v});case 8:"User added"===e.sent.message?(J(""),D("User Added Successfully. Click 'Back' button for login Page")):(J(""),J("Failed to add user. Please try again after sometime"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsxs)("div",{className:"signup-wrapper",children:[Object(i.jsx)("h1",{children:"User details"}),Object(i.jsxs)("form",{onSubmit:function(e){return function(e){return I.apply(this,arguments)}(e)},children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{children:"Firstname"}),Object(i.jsx)("input",{type:"text",required:!0,onChange:function(e){return c(e.target.value)}})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{children:"Lastname"}),Object(i.jsx)("input",{type:"text",required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{children:"Username"}),Object(i.jsx)("input",{type:"text",required:!0,onChange:function(e){return x(e.target.value)}})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{children:"Password"}),Object(i.jsx)("input",{type:"password",required:!0,onChange:function(e){return S(e.target.value)}})]}),Object(i.jsx)("a",{className:"Externallink",href:"https://mugilvannan-4.github.io/React-passwd/",target:"_blank",rel:"noopener noreferrer",children:"Need Help?"}),Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{children:"Confirm Password"}),Object(i.jsx)("input",{type:"password",required:!0,onChange:function(e){return N(e.target.value)}})]}),Object(i.jsx)("p",{className:"err",children:T}),Object(i.jsx)("p",{className:"Suc",children:B}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"submitbutton",type:"submit",children:"Register"})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"backbutton",type:"button",onClick:function(){window.location.href="/login"},children:"Back"})})]})]})};function h(e){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://dash-auth.herokuapp.com/user/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){var t=Object(r.useState)(),n=Object(b.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(b.a)(s,2),u=o[0],d=o[1],p=Object(r.useState)(),f=Object(b.a)(p,2),x=(f[0],f[1],Object(r.useState)()),m=Object(b.a)(x,2),g=(m[0],m[1],Object(r.useState)()),v=Object(b.a)(g,2),S=(v[0],v[1],Object(r.useState)()),k=Object(b.a)(S,2),w=(k[0],k[1],Object(r.useState)()),y=Object(b.a)(w,2),N=(y[0],y[1],Object(r.useState)("")),C=Object(b.a)(N,2),P=C[0],T=C[1],J=Object(r.useState)(""),U=Object(b.a)(J,2),q=(U[0],U[1],Object(r.useState)(!1)),B=Object(b.a)(q,2),D=B[0],I=B[1];function E(){return(E=Object(l.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,h({username:a,password:u});case 3:(r=t.sent).token?(e.setToken(r),window.location.href="/dashboard"):T(r.message);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.jsxs)("div",{className:"login-wrapper",children:[Object(i.jsx)("h1",{children:"Bon voyage"}),Object(i.jsxs)("form",{className:"login-entry",onSubmit:function(e){return function(e){return E.apply(this,arguments)}(e)},children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{children:"Username"}),Object(i.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)}})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{children:"Password"}),Object(i.jsx)("input",{type:"password",onChange:function(e){return d(e.target.value)}})]}),Object(i.jsx)("h1",{children:P}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"buttons",type:"Submit",children:"Sign In"})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{className:"buttons",type:"button",onClick:function(){I(!D)},children:"Sign Up"})})]}),!0===D&&Object(i.jsx)(O,{})]})};var m=function(){var e=Object(r.useState)(function(){var e=localStorage.getItem("token");console.log(e);var t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(b.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}};n(147);var g=function(){Object(s.d)();var e=m(),t=e.token,n=e.setToken;return t?Object(i.jsx)("div",{className:"dashboard",children:Object(i.jsx)(o,{})}):Object(i.jsx)("div",{className:"login",children:Object(i.jsx)(x,{setToken:n})})},v=n(29);c.a.render(Object(i.jsx)(v.a,{children:Object(i.jsx)(g,{})}),document.getElementById("root"))},89:function(e,t,n){}},[[442,1,2]]]);
//# sourceMappingURL=main.0fe0e73a.chunk.js.map