(this["webpackJsonpreact-dashboard"]=this["webpackJsonpreact-dashboard"]||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},442:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(23),s=n.n(c),i=(n(139),n(140),n(29)),o=n(5),u=(n(141),n(2));var j=function(){return Object(o.f)(),Object(u.jsxs)("div",{className:"Dashboard-wrapper",children:[Object(u.jsx)("h2",{children:"Dashboard under construction. Comeback later to get amazed"}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"logout",onClick:function(){return localStorage.clear(),void(window.location.href="/login")},children:"logout"})})]})},b=n(9),l=n.n(b),d=n(6),h=n(30);n(89);function p(e){return O.apply(this,arguments)}function O(){return(O=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch("https://dash-auth.herokuapp.com/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(d.a)(s,2),o=i[0],j=i[1],b=Object(r.useState)(),O=Object(d.a)(b,2),f=O[0],x=O[1],m=Object(r.useState)(),g=Object(d.a)(m,2),v=g[0],S=g[1],k=Object(r.useState)(),w=Object(d.a)(k,2),y=w[0],N=w[1],C=Object(r.useState)(""),P=Object(d.a)(C,2),T=P[0],J=P[1],U=Object(r.useState)(""),q=Object(d.a)(U,2),B=q[0],D=q[1];function I(){return(I=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v===y){e.next=6;break}J("Passwords are not matching"),D(""),e.next=10;break;case 6:return e.next=8,p({firstName:a,lastName:o,username:f,password:v});case 8:"User added"===e.sent.message?(J(""),D("User Added Successfully. Click 'Back' button for login Page")):(J(""),J("Failed to add user. Please try again after sometime"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"signup-wrapper",children:[Object(u.jsx)("h1",{children:"User details"}),Object(u.jsxs)("form",{onSubmit:function(e){return function(e){return I.apply(this,arguments)}(e)},children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Firstname"}),Object(u.jsx)("input",{type:"text",required:!0,onChange:function(e){return c(e.target.value)}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Lastname"}),Object(u.jsx)("input",{type:"text",required:!0,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Username"}),Object(u.jsx)("input",{type:"text",required:!0,onChange:function(e){return x(e.target.value)}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Password"}),Object(u.jsx)("input",{type:"password",required:!0,onChange:function(e){return S(e.target.value)}})]}),Object(u.jsx)("a",{className:"Externallink",href:"https://mugilvannan-4.github.io/React-passwd/",target:"_blank",rel:"noopener noreferrer",children:"Need Help?"}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Confirm Password"}),Object(u.jsx)("input",{type:"password",required:!0,onChange:function(e){return N(e.target.value)}})]}),Object(u.jsx)("p",{className:"err",children:T}),Object(u.jsx)("p",{className:"Suc",children:B}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"submitbutton",type:"submit",children:"Register"})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"backbutton",type:"button",onClick:function(){window.location.href="/login"},children:"Back"})})]})]})};function x(e){return m.apply(this,arguments)}function m(){return(m=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://dash-auth.herokuapp.com/user/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var t=Object(r.useState)(),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(d.a)(s,2),o=i[0],j=i[1],b=Object(r.useState)(),p=Object(d.a)(b,2),O=(p[0],p[1],Object(r.useState)()),m=Object(d.a)(O,2),g=(m[0],m[1],Object(r.useState)()),v=Object(d.a)(g,2),S=(v[0],v[1],Object(r.useState)()),k=Object(d.a)(S,2),w=(k[0],k[1],Object(r.useState)()),y=Object(d.a)(w,2),N=(y[0],y[1],Object(r.useState)("")),C=Object(d.a)(N,2),P=C[0],T=C[1],J=Object(r.useState)(""),U=Object(d.a)(J,2),q=(U[0],U[1],Object(r.useState)(!1)),B=Object(d.a)(q,2),D=B[0],I=B[1];function E(){return(E=Object(h.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,x({username:a,password:o});case 3:(r=t.sent).token?(e.setToken(r),window.location.href="/dashboard"):T(r.message);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"login-wrapper",children:[Object(u.jsx)("h1",{children:"Bon voyage"}),Object(u.jsxs)("form",{className:"login-entry",onSubmit:function(e){return function(e){return E.apply(this,arguments)}(e)},children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Username"}),Object(u.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{children:"Password"}),Object(u.jsx)("input",{type:"password",onChange:function(e){return j(e.target.value)}})]}),Object(u.jsx)("h1",{children:P}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"buttons",type:"Submit",children:"Sign In"})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"buttons",type:"button",onClick:function(){I(!D)},children:"Sign Up"})})]}),!0===D&&Object(u.jsx)(f,{})]})};var v=function(){var e=Object(r.useState)(function(){var e=localStorage.getItem("token");console.log(e);var t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(d.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}};n(147);var S=function(){Object(o.f)();var e=v(),t=e.token,n=e.setToken;return t?Object(u.jsx)("div",{className:"dashboard",children:Object(u.jsx)(i.a,{children:Object(u.jsx)(o.c,{children:Object(u.jsx)(o.a,{path:"/dashboard",children:Object(u.jsx)(j,{})})})})}):Object(u.jsx)("div",{className:"login",children:Object(u.jsx)(i.a,{children:Object(u.jsx)(o.c,{children:Object(u.jsx)(o.a,{path:"/login",children:Object(u.jsx)(g,{setToken:n})})})})})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))},89:function(e,t,n){}},[[442,1,2]]]);
//# sourceMappingURL=main.ed58801f.chunk.js.map