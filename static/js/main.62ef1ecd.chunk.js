(this["webpackJsonpreact-dashboard"]=this["webpackJsonpreact-dashboard"]||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},442:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(24),c=n.n(a),s=(n(139),n(140),n(23)),i=n(5),o=(n(141),n(2));var u=function(){return Object(i.f)(),Object(o.jsxs)("div",{className:"Dashboard-wrapper",children:[Object(o.jsx)("h2",{children:"Dashboard under construction. Comeback later to get amazed"}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logout",onClick:function(){return localStorage.clear(),void(window.location.href="/login")},children:"logout"})})]})},j=n(9),b=n.n(j),l=n(6),d=n(30);n(89);function h(e){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch("https://dash-auth.herokuapp.com/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){var t=Object(r.useState)(),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(l.a)(s,2),u=i[0],j=i[1],p=Object(r.useState)(),O=Object(l.a)(p,2),f=O[0],x=O[1],m=Object(r.useState)(),g=Object(l.a)(m,2),v=g[0],S=g[1],k=Object(r.useState)(),w=Object(l.a)(k,2),y=w[0],N=w[1],C=Object(r.useState)(""),P=Object(l.a)(C,2),T=P[0],J=P[1],U=Object(r.useState)(""),q=Object(l.a)(U,2),B=q[0],D=q[1];function I(){return(I=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v===y){e.next=6;break}J("Passwords are not matching"),D(""),e.next=10;break;case 6:return e.next=8,h({firstName:a,lastName:u,username:f,password:v});case 8:"User added"===e.sent.message?(J(""),D("User Added Successfully. Click 'Back' button for login Page")):(J(""),J("Failed to add user. Please try again after sometime"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.jsxs)("div",{className:"signup-wrapper",children:[Object(o.jsx)("h1",{children:"User details"}),Object(o.jsxs)("form",{onSubmit:function(e){return function(e){return I.apply(this,arguments)}(e)},children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Firstname"}),Object(o.jsx)("input",{type:"text",required:!0,onChange:function(e){return c(e.target.value)}})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Lastname"}),Object(o.jsx)("input",{type:"text",required:!0,onChange:function(e){return j(e.target.value)}})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Username"}),Object(o.jsx)("input",{type:"text",required:!0,onChange:function(e){return x(e.target.value)}})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Password"}),Object(o.jsx)("input",{type:"password",required:!0,onChange:function(e){return S(e.target.value)}})]}),Object(o.jsx)("a",{className:"Externallink",href:"https://mugilvannan-4.github.io/React-passwd/",target:"_blank",rel:"noopener noreferrer",children:"Need Help?"}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Confirm Password"}),Object(o.jsx)("input",{type:"password",required:!0,onChange:function(e){return N(e.target.value)}})]}),Object(o.jsx)("p",{className:"err",children:T}),Object(o.jsx)("p",{className:"Suc",children:B}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"submitbutton",type:"submit",children:"Register"})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"backbutton",type:"button",onClick:function(){window.location.href="/login"},children:"Back"})})]})]})};function f(e){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://dash-auth.herokuapp.com/user/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){var t=Object(r.useState)(),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(l.a)(s,2),u=i[0],j=i[1],h=Object(r.useState)(),p=Object(l.a)(h,2),x=(p[0],p[1],Object(r.useState)()),m=Object(l.a)(x,2),g=(m[0],m[1],Object(r.useState)()),v=Object(l.a)(g,2),S=(v[0],v[1],Object(r.useState)()),k=Object(l.a)(S,2),w=(k[0],k[1],Object(r.useState)()),y=Object(l.a)(w,2),N=(y[0],y[1],Object(r.useState)("")),C=Object(l.a)(N,2),P=C[0],T=C[1],J=Object(r.useState)(""),U=Object(l.a)(J,2),q=(U[0],U[1],Object(r.useState)(!1)),B=Object(l.a)(q,2),D=B[0],I=B[1];function E(){return(E=Object(d.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,f({username:a,password:u});case 3:(r=t.sent).token?(e.setToken(r),window.location.href="/dashboard"):T(r.message);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(o.jsxs)("div",{className:"login-wrapper",children:[Object(o.jsx)("h1",{children:"Bon voyage"}),Object(o.jsxs)("form",{className:"login-entry",onSubmit:function(e){return function(e){return E.apply(this,arguments)}(e)},children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Username"}),Object(o.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)}})]}),Object(o.jsxs)("label",{children:[Object(o.jsx)("p",{children:"Password"}),Object(o.jsx)("input",{type:"password",onChange:function(e){return j(e.target.value)}})]}),Object(o.jsx)("h1",{children:P}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"buttons",type:"Submit",children:"Sign In"})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"buttons",type:"button",onClick:function(){I(!D)},children:"Sign Up"})})]}),!0===D&&Object(o.jsx)(O,{})]})};var g=function(){var e=Object(r.useState)(function(){var e=localStorage.getItem("token");console.log(e);var t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(l.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:n}};n(147);var v=function(){Object(i.f)();var e=g(),t=e.token,n=e.setToken;return t?Object(o.jsx)("div",{className:"dashboard",children:Object(o.jsx)(s.a,{children:Object(o.jsx)(i.c,{children:Object(o.jsx)(i.a,{path:"/dashboard",children:Object(o.jsx)(u,{})})})})}):Object(o.jsx)("div",{className:"login",children:Object(o.jsx)(s.a,{children:Object(o.jsx)(i.c,{children:Object(o.jsx)(i.a,{path:"/login",children:Object(o.jsx)(m,{setToken:n})})})})})};c.a.render(Object(o.jsx)(s.a,{children:Object(o.jsx)(v,{})}),document.getElementById("root"))},89:function(e,t,n){}},[[442,1,2]]]);
//# sourceMappingURL=main.62ef1ecd.chunk.js.map