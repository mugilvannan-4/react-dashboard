{"ast":null,"code":"import _regeneratorRuntime from\"D:/ReactJS/GIT/react-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"D:/ReactJS/GIT/react-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"D:/ReactJS/GIT/react-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import'./Login.css';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterUser(_x){return _RegisterUser.apply(this,arguments);}function _RegisterUser(){_RegisterUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(userdetails){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(userdetails);return _context3.abrupt(\"return\",fetch('https://dash-auth.herokuapp.com/user/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userdetails)}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",data.json());case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref.apply(this,arguments);};}()));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return _RegisterUser.apply(this,arguments);}function Register(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),cnfpwd=_useState10[0],setCnfpwd=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),regmessage=_useState12[0],setRegmessage=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),apimessage=_useState14[0],setApimessage=_useState14[1];function handleSubmit(_x2){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var Resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(password!==cnfpwd)){_context.next=6;break;}setRegmessage(\"Passwords are not matching\");setApimessage('');_context.next=10;break;case 6:_context.next=8;return RegisterUser({firstName:firstName,lastName:lastName,username:username,password:password});case 8:Resp=_context.sent;if(Resp.message===\"User added\"){setRegmessage('');setApimessage(\"User Added Successfully. Click 'Back' button for login Page\");}else{setRegmessage('');setRegmessage(\"Failed to add user. Please try again after sometime\");}case 10:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleback(e){window.location.href='/react-dashboard/#/login';}return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Firstname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,onChange:function onChange(e){return setFirstName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Lastname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,onChange:function onChange(e){return setLastName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"a\",{className:\"Externallink\",href:\"https://mugilvannan-4.github.io/React-passwd/\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Need Help?\"}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,onChange:function onChange(e){return setCnfpwd(e.target.value);}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"err\",children:regmessage}),/*#__PURE__*/_jsx(\"p\",{className:\"Suc\",children:apimessage}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"submitbutton\",type:\"submit\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"backbutton\",type:\"button\",onClick:function onClick(){return handleback();},children:\"Back\"})})]})]});}export default Register;","map":{"version":3,"sources":["D:/ReactJS/GIT/react-dashboard/src/components/Login/Register.js"],"names":["React","useState","useHistory","RegisterUser","userdetails","console","log","fetch","method","headers","body","JSON","stringify","then","data","json","Register","props","firstName","setFirstName","lastName","setLastName","username","setUsername","password","setPassword","cnfpwd","setCnfpwd","regmessage","setRegmessage","apimessage","setApimessage","handleSubmit","e","preventDefault","Resp","message","handleback","window","location","href","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './Login.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nasync function RegisterUser(userdetails) {\r\n    console.log(userdetails);\r\n    return fetch('https://dash-auth.herokuapp.com/user/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userdetails)\r\n      \r\n      })\r\n        .then(async (data) => data.json())\r\n}\r\n\r\nfunction Register(props) {\r\n    const [firstName, setFirstName] = useState();\r\n    const [lastName, setLastName] = useState();\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [cnfpwd, setCnfpwd] = useState();\r\n    const [regmessage, setRegmessage] = useState('');\r\n    const [apimessage, setApimessage] = useState('');\r\n\r\n \r\n    \r\n    async function handleSubmit(e){\r\n        e.preventDefault();\r\n        if(password !== cnfpwd ){\r\n            setRegmessage(\"Passwords are not matching\")\r\n            setApimessage('');\r\n        }\r\n        else {\r\n            const Resp = await RegisterUser({\r\n                firstName,\r\n                lastName,\r\n                username,\r\n                password    \r\n            }); \r\n           if(Resp.message === \"User added\") {\r\n            setRegmessage('')\r\n               setApimessage(\"User Added Successfully. Click 'Back' button for login Page\");\r\n           } \r\n           else\r\n           {\r\n            setRegmessage('')\r\n               setRegmessage(\"Failed to add user. Please try again after sometime\");\r\n           }\r\n        }\r\n        }\r\n\r\n    function handleback(e) {\r\n        window.location.href = '/react-dashboard/#/login'\r\n    }\r\n    return(\r\n                <div className=\"signup-wrapper\">\r\n                    <h1>User details</h1>   \r\n                           <form onSubmit={(e) => handleSubmit(e)}>\r\n                             <label>\r\n                               <p>Firstname</p>\r\n                                  <input type=\"text\" required onChange={(e) => setFirstName(e.target.value)}/>\r\n                              </label>\r\n                              <label>\r\n                               <p>Lastname</p>\r\n                                  <input type=\"text\" required onChange={(e) => setLastName(e.target.value)}/>\r\n                              </label>\r\n                              <label>\r\n                               <p>Username</p>\r\n                                  <input type=\"text\" required onChange={(e) => setUsername(e.target.value)}/>\r\n                              </label>\r\n                              <label>\r\n                                <p>Password</p>\r\n                                  <input type=\"password\" required onChange={(e) => setPassword(e.target.value)}/>\r\n                              </label>\r\n                              <a className=\"Externallink\" href=\"https://mugilvannan-4.github.io/React-passwd/\" target=\"_blank\" rel=\"noopener noreferrer\" >Need Help?</a>\r\n                              <label>\r\n                                <p>Confirm Password</p>\r\n                                  <input type=\"password\" required onChange={(e) => setCnfpwd(e.target.value)}/>\r\n                              </label>\r\n                              <p className=\"err\">{regmessage}</p>\r\n                              <p className=\"Suc\">{apimessage}</p>\r\n                              <div>\r\n                                  <button className=\"submitbutton\" type=\"submit\">Register</button>\r\n                              </div>\r\n                              <div>\r\n                                  <button className=\"backbutton\" type=\"button\" onClick={() => handleback()}>Back</button>\r\n                              </div>\r\n                           </form>\r\n                </div>       \r\n    )\r\n\r\n    } \r\n\r\n\r\n\r\n\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}